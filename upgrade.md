# Upgrade: Позиционирование прицела долгим нажатием

## Описание функции
Новая функция позволяет позиционировать прицел долгим нажатием на экране камеры:
- Удерживайте палец в нужной точке (настраиваемое время)
- При удержании отображается предварительная позиция прицела
- После удержания можно скорректировать позицию на замороженном кадре
- Цвет прицела определяется по пикселям в месте позиционирования
- Фото сохраняется с прицелом в выбранной позиции

## Чек-лист задач

### 1. Схема и настройки
- [x] Добавить `longPressDelay` в схему (300-1500мс, по умолчанию 500мс)
- [x] Добавить `manualAdjustment` в схему (boolean, по умолчанию false)

### 2. UI настроек (ReticleSection)
- [x] Добавить слайдер времени удержания
- [x] Добавить переключатель режима корректировки

### 3. Визуальный индикатор при удержании
- [x] Показывать полупрозрачный прицел во время удержания пальца

### 4. Режим корректировки
- [x] Заморозить кадр после долгого нажатия (статичное изображение)
- [x] Показать кнопки-иконки X (отмена) и ✓ (подтверждение)
- [x] Реализовать перетаскивание прицела на замороженном кадре
- [x] По нажатию ✓ — сделать фото с выбранной позицией
- [x] По нажатию X — отменить и вернуться к камере

### 5. Цвет прицела по позиции
- [x] Изменить определение цвета — брать пиксели из позиции прицела
- [x] Обновлять цвет при перемещении прицела

### 6. Переводы
- [x] Добавить переводы для новых настроек (ru/en)

---

## Прогресс

| Задача | Статус | Дата |
|--------|--------|------|
| Схема и настройки | ✅ Готово | 07.12.2025 |
| UI настроек | ✅ Готово | 07.12.2025 |
| Визуальный индикатор | ✅ Готово | 07.12.2025 |
| Режим корректировки | ✅ Готово | 07.12.2025 |
| Цвет по позиции | ✅ Готово | 07.12.2025 |
| Переводы | ✅ Готово | 07.12.2025 |

---
---

# Upgrade: Реорганизация настроек + мобильная адаптация

## Описание
Реорганизация страницы настроек для улучшения юзабилити и адаптации под мобильные устройства (Android/iOS):
- Группировка настроек по логическим категориям
- Панель быстрого доступа к часто используемым опциям
- Мобильная навигация с табами внизу экрана
- Увеличенные области касания для сенсорных экранов
- Поиск по настройкам

## Чек-лист задач

### 1. Панель быстрого доступа (QuickSettings)
- [ ] Создать компонент QuickSettings с горизонтальной прокруткой
- [ ] Добавить быстрые переключатели: стабилизация, GPS, звук затвора, тема
- [ ] Стилизовать компактные иконки-кнопки с подписями
- [ ] Добавить визуальную индикацию активного состояния

### 2. Группировка настроек по категориям
- [ ] Создать 4 категории: Камера, Интерфейс, Данные, Система
- [ ] **Камера**: Разрешение, качество фото, стабилизация, улучшение изображения
- [ ] **Интерфейс**: Прицел (reticle), водяной знак, индикатор уровня, язык
- [ ] **Данные**: GPS/локация, облачная загрузка, хранилище
- [ ] **Система**: Тема, PWA, приватность, сброс настроек

### 3. Мобильная навигация (табы внизу экрана)
- [ ] Создать компонент SettingsTabs для переключения категорий
- [ ] Закрепить табы внизу экрана на мобильных (safe-area)
- [ ] Добавить иконки и подписи к табам
- [ ] Увеличить размер табов (min-height: 56px) для удобного касания
- [ ] Добавить haptic feedback при переключении (если поддерживается)

### 4. Оптимизация UI для мобильных устройств
- [ ] Увеличить размер переключателей (Switch) на мобильных
- [ ] Увеличить высоту строк настроек (min-height: 56px)
- [ ] Добавить правильные отступы для safe-area (iPhone notch, Android gesture bar)
- [ ] Оптимизировать слайдеры для touch: увеличить область захвата
- [ ] Убрать hover-эффекты на touch-устройствах

### 5. Поиск по настройкам
- [ ] Добавить поле поиска в заголовок
- [ ] Реализовать фильтрацию секций по ключевым словам
- [ ] Подсвечивать найденные настройки
- [ ] Добавить кнопку очистки поиска

### 6. Переводы
- [ ] Добавить переводы для названий категорий (ru/en)
- [ ] Добавить переводы для placeholder поиска

### 7. Тестирование
- [ ] Проверить на iOS Safari (iPhone)
- [ ] Проверить на Android Chrome
- [ ] Проверить safe-area на устройствах с "челкой"
- [ ] Проверить горизонтальную ориентацию

---

## Прогресс

| Задача | Статус | Дата |
|--------|--------|------|
| Панель быстрого доступа | ⏳ В процессе | 08.12.2025 |
| Группировка по категориям | ⏳ Ожидает | - |
| Мобильная навигация | ⏳ Ожидает | - |
| Оптимизация UI | ⏳ Ожидает | - |
| Поиск по настройкам | ⏳ Ожидает | - |
| Переводы | ⏳ Ожидает | - |
| Тестирование | ⏳ Ожидает | - |

---

## Архитектура решения

```
client/src/pages/settings/
├── index.tsx                    # Главная страница настроек
├── components/
│   ├── QuickSettings.tsx        # NEW: Панель быстрого доступа
│   ├── SettingsTabs.tsx         # NEW: Табы навигации по категориям
│   ├── SettingsSearch.tsx       # NEW: Поиск по настройкам
│   └── CategorySection.tsx      # NEW: Обёртка для категории
├── sections/
│   ├── ... (существующие секции)
└── hooks/
    └── useSettingsSearch.ts     # NEW: Хук для поиска
```

## Категории настроек

| Категория | Иконка | Секции |
|-----------|--------|--------|
| Камера | Camera | CameraSettings, ImageQuality |
| Интерфейс | Palette | Reticle, Watermark, General (язык) |
| Данные | Database | CaptureLocation, CloudUpload, Storage |
| Система | Settings | Theme, PWA, Privacy, Reset |
